<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nodel: Nodel</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doc.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Nodel<span id="projectnumber">&#160;0.1.0</span>
   </div>
   <div id="projectbrief">Fast Dynamic Object with Optional Data Source</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Nodel </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__r_e_a_d_m_e"></a></p><h1>Fast Dynamic Object with Optional Data Source</h1>
<h2>Overview</h2>
<p>The Nodel library consists of a dynamic object (the <code>Object</code> class), which can represent the data types (as defined in nodel/support/types.h):</p><ul>
<li><code>nil</code></li>
<li><code>bool</code>, <code>int64_t</code>, <code>uint64_t</code>, <code>double</code></li>
<li><code>std::string</code></li>
<li><code>std::vector&lt;Object&gt;</code></li>
<li><code>std::map&lt;Key, Object&gt;</code></li>
<li><code>tsl::ordered_map&lt;Key, Object&gt;</code></li>
</ul>
<p>A Nodel Object may be "bound" to a class derived from <code><a class="el" href="classnodel_1_1_data_source.html" title="Base class for objects implementing external data access.">nodel::DataSource</a></code>, which loads data on-demand from an external storage location into memory. <br  />
</p>
<p>Nodel data sources are selected and configured by calling the <code><a class="el" href="namespacenodel.html#a941da699233ba625dc79f42aef1b952d" title="Bind an Object to the specified external storage location.">nodel::bind</a></code> function with a URI that identifies the scheme of a data-source implementation, with the remaining elements of the URI interpreted by the data-source implementation. URI schemes are extensible.</p>
<p>The following code binds an Object to the current working directory:</p>
<div class="fragment"><div class="line">auto wd = nodel::bind(&quot;file://?path=.&quot;);</div>
</div><!-- fragment --><p>The Nodel filesystem data-source (see include/nodel/filesystem/Directory.h) represents a directory with a <code>tsl::ordered_map&lt;Key, Object&gt;</code>, where the keys are the file names, and the values are Objects bound to a <code>nodel::filesystem::File</code> data-source. A data-source load operation is triggered when a bound object is accessed using one of the <code><a class="el" href="classnodel_1_1_object.html" title="Nodel dynamic object.">nodel::Object</a></code> methods.</p>
<p>Nodel Objects are reference counted. A <code><a class="el" href="classnodel_1_1_object.html" title="Nodel dynamic object.">nodel::Object</a></code> instance is a reference to its underying data.</p>
<p>Nodel is a header-only library with no required dependencies. This means that your program must instantiate certain macros and call the <code>configure</code> function of the subsystems it uses. See the "Quick Start" below for a complete example.</p>
<p>If you link with cpptrace, Nodel exceptions will contain backtraces.</p>
<p>Nodel provides its own homegrown JSON and CSV parsers, both of which are stream-based and reduce external dependencies.</p>
<p>Nodel includes two example DataSource implementations - one for the filesystem, and one for RocksDB. The filesystem DataSource collection is extensible and a the RocksDB DataSource additionally provides integration with the filesystem DataSource. In this way, you can navigate through data stored in json files, csv files, text files, binary files, as well as RocksDB databases, with a unified data model.</p>
<p>Nodel interns string keys in a thread-local hash map.</p>
<p>Nodel provides key and value iterators that transparently use DataSource-specific iterators. For example, if you are iterating the keys of an Object backed by a <a href="https://rocksdb.org/">RocksDB</a> database, the iteration is actually performed by the native RocksDB Iterator.</p>
<p>Nodel includes a Python 3.x C-API extension, which supports URI binding to take advantage of whatever URI schemes have been registered in the Nodel build.</p>
<p>"Nodel" is a portmanteau of "node" and "model", where "node" refers to a node in a tree.</p>
<h1>How To Build</h1>
<p>The CMakeLists.txt has limited testing, so if you have trouble building with it, the core features can be built without external dependencies using the following compiler flags:</p>
<div class="fragment"><div class="line">--std=c++20 -I&lt;NODEL_DIRECTORY&gt;/include -Wall -O2</div>
</div><!-- fragment --><p>If you compile and link with the excellent <a href="https://github.com/jeremy-rifkin/cpptrace">cpptrace</a> library, all Nodel exceptions will have backtraces.</p>
<p>To build with <a href="https://rocksdb.org/">RocksDB</a> support, just add the compiler and linker flags required by RocksDB.</p>
<p>To build and install the Python C-API, run the following commands:</p>
<div class="fragment"><div class="line">cd &lt;NODEL_DIRECTORY&gt;/pyext</div>
<div class="line">python3 -m build</div>
<div class="line">pip install dist/nodel*.whl</div>
</div><!-- fragment --><h1>Quick Start</h1>
<div class="fragment"><div class="line">#include &lt;nodel/core.h&gt;</div>
<div class="line">#include &lt;nodel/filesystem.h&gt;</div>
<div class="line">#include &lt;iostream&gt;</div>
<div class="line"> </div>
<div class="line">NODEL_CORE_INIT;       // initialize thread-local string intern maps</div>
<div class="line">NODEL_FILESYSTEM_INIT; // initialize thread-local extension registry (the default registry)</div>
<div class="line"> </div>
<div class="line">using namespace nodel;</div>
<div class="line"> </div>
<div class="line">int main(int argc, char** argv) {</div>
<div class="line">    filesystem::configure();                // Register the &quot;file:&quot; URI scheme</div>
<div class="line">    Object dir = bind(&quot;file://?path=.&quot;);    // Bind an object to a relative path</div>
<div class="line">    for (const auto&amp; f: dir.iter_keys())    // Iterate the names of the files</div>
<div class="line">        std::cout &lt;&lt; f &lt;&lt; std::endl;</div>
<div class="line">}</div>
</div><!-- fragment --><h1>Python Quick Start</h1>
<div class="fragment"><div class="line">import nodel as nd</div>
<div class="line">wd = nd.bind(&quot;file://?path=.&quot;)</div>
<div class="line">print(list(wd))</div>
</div><!-- fragment --><h1>API Documentation and Examples</h1>
<p><a href="https://clutterdesk.github.io/Nodel">Nodel API documentation</a></p>
<h2>Optional Dependencies</h2>
<p>TBD</p>
<h2>Similar Projects</h2>
<p>See Niels Lohmann project, <a href="https://github.com/nlohmann/json">json</a>. </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"/>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
